module.exports = class Data1704732112571 {
    name = 'Data1704732112571'

    async up(db) {
        await db.query(`ALTER TABLE "claimed_incentive_reward_from_voting" DROP CONSTRAINT "FK_e07a0629cde6ce081d4063bcc1b"`)
        await db.query(`DROP INDEX "public"."IDX_e07a0629cde6ce081d4063bcc1"`)
        await db.query(`CREATE TABLE "x_zoo_staked" ("id" character varying NOT NULL, "staker" text NOT NULL, "beneficiary" text NOT NULL, "amount" numeric NOT NULL, "position_id" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, "author" text NOT NULL, CONSTRAINT "PK_c87b458b90794472cc45cade7ee" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_86e73cca3a595178a77249890e" ON "x_zoo_staked" ("staker") `)
        await db.query(`CREATE INDEX "IDX_c1e4c9363383cd7053c299619e" ON "x_zoo_staked" ("beneficiary") `)
        await db.query(`CREATE INDEX "IDX_bdaa1734826fe3f1d647dd0ff1" ON "x_zoo_staked" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_1538684c86b033aba636cb0ee4" ON "x_zoo_staked" ("author") `)
        await db.query(`CREATE TABLE "x_zoo_withdrawed" ("id" character varying NOT NULL, "staker" text NOT NULL, "beneficiary" text NOT NULL, "amount" numeric NOT NULL, "position_id" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_bd80bcbd540aede7208bae7235f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e95f2e2e8b4c21d2f4347f112b" ON "x_zoo_withdrawed" ("staker") `)
        await db.query(`CREATE INDEX "IDX_49f2d86fec117c8b3564b058a8" ON "x_zoo_withdrawed" ("beneficiary") `)
        await db.query(`CREATE INDEX "IDX_6cfd2f4bc2f7c24ff7b58fda36" ON "x_zoo_withdrawed" ("timestamp") `)
        await db.query(`CREATE TABLE "x_zoo_claimed" ("id" character varying NOT NULL, "staker" text NOT NULL, "beneficiary" text NOT NULL, "amount" numeric NOT NULL, "position_id" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_75b0c6ffac27a9c15f3e7002a54" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_bc8d4304aad80c9c89f32d6b31" ON "x_zoo_claimed" ("staker") `)
        await db.query(`CREATE INDEX "IDX_8335f0ba0895a2ab1e2eb3cd6f" ON "x_zoo_claimed" ("beneficiary") `)
        await db.query(`CREATE INDEX "IDX_c7508c82d856525863dba34740" ON "x_zoo_claimed" ("timestamp") `)
        await db.query(`CREATE TABLE "jackpot_staked" ("id" character varying NOT NULL, "type" text NOT NULL, "position_id" numeric NOT NULL, "jackpot_position_id" numeric NOT NULL, "beneficiary" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, "is_deleted" boolean NOT NULL, "author" text NOT NULL, CONSTRAINT "PK_3ba386afe886037fc3cbd8687a6" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_cd9d073cbf1d04330b28722356" ON "jackpot_staked" ("type") `)
        await db.query(`CREATE INDEX "IDX_fd3bd92680a2c0b41659f9a90a" ON "jackpot_staked" ("jackpot_position_id") `)
        await db.query(`CREATE INDEX "IDX_28ec39af47d756410058cc38e6" ON "jackpot_staked" ("beneficiary") `)
        await db.query(`CREATE INDEX "IDX_70f2b877d6fed6e25149eab1cd" ON "jackpot_staked" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_5dfe6b19f28564098eb9e14735" ON "jackpot_staked" ("author") `)
        await db.query(`CREATE TABLE "jackpot_unstaked" ("id" character varying NOT NULL, "type" text NOT NULL, "jackpot_position_id" numeric NOT NULL, "zoo_position_id" numeric NOT NULL, "owner" text NOT NULL, "beneficiary" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_4d6e24b849e9507d598b0627688" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_02c1c0208707d888e393a9a597" ON "jackpot_unstaked" ("type") `)
        await db.query(`CREATE INDEX "IDX_ed058942e1d9c47a9056be51ef" ON "jackpot_unstaked" ("owner") `)
        await db.query(`CREATE INDEX "IDX_3f1677f0e02aabd6cdb3f53cee" ON "jackpot_unstaked" ("beneficiary") `)
        await db.query(`CREATE INDEX "IDX_1bcd697022ece7f6c582ea0b09" ON "jackpot_unstaked" ("timestamp") `)
        await db.query(`CREATE TABLE "jackpot_winner_choosed" ("id" character varying NOT NULL, "type" text NOT NULL, "winner" numeric NOT NULL, "epoch" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_7648240fd8639398d33ac7e0979" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_7d28f033fedd297592e3de555e" ON "jackpot_winner_choosed" ("type") `)
        await db.query(`CREATE INDEX "IDX_a4ef1e139c3ba875ef68c05168" ON "jackpot_winner_choosed" ("epoch") `)
        await db.query(`CREATE INDEX "IDX_75c5a5076c957a5ccf86d71205" ON "jackpot_winner_choosed" ("timestamp") `)
        await db.query(`CREATE TABLE "jackpot_claimed" ("id" character varying NOT NULL, "type" text NOT NULL, "position_id" numeric NOT NULL, "epoch" numeric NOT NULL, "owner" text NOT NULL, "beneficiary" text NOT NULL, "rewards" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_1573c1cc3b55e195cfbb1c04f09" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_bee9997cff0f4e4c6c5efb6500" ON "jackpot_claimed" ("type") `)
        await db.query(`CREATE INDEX "IDX_19685e560f128b1237cdb7c4a9" ON "jackpot_claimed" ("owner") `)
        await db.query(`CREATE INDEX "IDX_8426617170eb88a5a55a81bd44" ON "jackpot_claimed" ("beneficiary") `)
        await db.query(`CREATE INDEX "IDX_051418a34da1214c9b9f9b6ce7" ON "jackpot_claimed" ("timestamp") `)
        await db.query(`ALTER TABLE "claimed_incentive_reward_from_voting" DROP COLUMN "project_id"`)
    }

    async down(db) {
        await db.query(`ALTER TABLE "claimed_incentive_reward_from_voting" ADD CONSTRAINT "FK_e07a0629cde6ce081d4063bcc1b" FOREIGN KEY ("project_id") REFERENCES "project"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`CREATE INDEX "IDX_e07a0629cde6ce081d4063bcc1" ON "claimed_incentive_reward_from_voting" ("project_id") `)
        await db.query(`DROP TABLE "x_zoo_staked"`)
        await db.query(`DROP INDEX "public"."IDX_86e73cca3a595178a77249890e"`)
        await db.query(`DROP INDEX "public"."IDX_c1e4c9363383cd7053c299619e"`)
        await db.query(`DROP INDEX "public"."IDX_bdaa1734826fe3f1d647dd0ff1"`)
        await db.query(`DROP INDEX "public"."IDX_1538684c86b033aba636cb0ee4"`)
        await db.query(`DROP TABLE "x_zoo_withdrawed"`)
        await db.query(`DROP INDEX "public"."IDX_e95f2e2e8b4c21d2f4347f112b"`)
        await db.query(`DROP INDEX "public"."IDX_49f2d86fec117c8b3564b058a8"`)
        await db.query(`DROP INDEX "public"."IDX_6cfd2f4bc2f7c24ff7b58fda36"`)
        await db.query(`DROP TABLE "x_zoo_claimed"`)
        await db.query(`DROP INDEX "public"."IDX_bc8d4304aad80c9c89f32d6b31"`)
        await db.query(`DROP INDEX "public"."IDX_8335f0ba0895a2ab1e2eb3cd6f"`)
        await db.query(`DROP INDEX "public"."IDX_c7508c82d856525863dba34740"`)
        await db.query(`DROP TABLE "jackpot_staked"`)
        await db.query(`DROP INDEX "public"."IDX_cd9d073cbf1d04330b28722356"`)
        await db.query(`DROP INDEX "public"."IDX_fd3bd92680a2c0b41659f9a90a"`)
        await db.query(`DROP INDEX "public"."IDX_28ec39af47d756410058cc38e6"`)
        await db.query(`DROP INDEX "public"."IDX_70f2b877d6fed6e25149eab1cd"`)
        await db.query(`DROP INDEX "public"."IDX_5dfe6b19f28564098eb9e14735"`)
        await db.query(`DROP TABLE "jackpot_unstaked"`)
        await db.query(`DROP INDEX "public"."IDX_02c1c0208707d888e393a9a597"`)
        await db.query(`DROP INDEX "public"."IDX_ed058942e1d9c47a9056be51ef"`)
        await db.query(`DROP INDEX "public"."IDX_3f1677f0e02aabd6cdb3f53cee"`)
        await db.query(`DROP INDEX "public"."IDX_1bcd697022ece7f6c582ea0b09"`)
        await db.query(`DROP TABLE "jackpot_winner_choosed"`)
        await db.query(`DROP INDEX "public"."IDX_7d28f033fedd297592e3de555e"`)
        await db.query(`DROP INDEX "public"."IDX_a4ef1e139c3ba875ef68c05168"`)
        await db.query(`DROP INDEX "public"."IDX_75c5a5076c957a5ccf86d71205"`)
        await db.query(`DROP TABLE "jackpot_claimed"`)
        await db.query(`DROP INDEX "public"."IDX_bee9997cff0f4e4c6c5efb6500"`)
        await db.query(`DROP INDEX "public"."IDX_19685e560f128b1237cdb7c4a9"`)
        await db.query(`DROP INDEX "public"."IDX_8426617170eb88a5a55a81bd44"`)
        await db.query(`DROP INDEX "public"."IDX_051418a34da1214c9b9f9b6ce7"`)
        await db.query(`ALTER TABLE "claimed_incentive_reward_from_voting" ADD "project_id" character varying`)
    }
}
